$(window).resize(function(){initWindowResize()});function executeOnDocumentReady(){current_state=getViewportSize();executeOnViewportChange(current_state);initCookiesConsent();$(".ft-disp").click(function(e){if(current_state!="xs"||!$(this).hasClass("dropdown-toggle")){e.preventDefault();var furl=$(this).data("fval");if(furl){var final_url=furl.indexOf("://")!=-1?furl:store_link+"/"+furl;if(e.metaKey||e.ctrlKey||e.which==2){window.open(final_url,"_blank")}else{window.location=final_url}}}else if(current_state=="xs"&&$(this).hasClass("dropdown-toggle")){$(this).dropdown()}});$("#display-list").click(function(event){event.preventDefault();setCookie("__view","list",30);switchDisplay("list")});$("#display-grid").click(function(event){event.preventDefault();setCookie("__view","grid",30);switchDisplay("grid")});if(!is_touch){$('[data-toggle="tooltip"]').tooltip({container:"body"})}if($("#gallery-carousel").is("div")&&window.location.hash.indexOf("#img-")!=-1){var iid=window.location.hash.replace("#img-","");if(iid){showProductImage(iid,"#gallery-carousel")}}initGalleryCarousel();$(".alert-dismissible").on("closed.bs.alert",function(){var alert_id=$(this).attr("id");var alert_expire=parseInt($(this).data("hide-days"));if(alert_id&&alert_expire>0){setCookie(alert_id,1,alert_expire)}if(alert_id=="alert-contact-comments"){$(".if-ga").removeClass("if-ga")}});$(".slimscroll").slimScroll({height:"200px",width:"100%",railVisible:true,alwaysVisible:true,allowPageScroll:false});if(is_touch){$("body").addClass("touch-enabled");$("body").removeClass("touch-disabled")}else{$("body").addClass("touch-disabled");$("body").removeClass("touch-enabled")}initTitleFocus();if(!is_touch&&current_state!="xs"){$("#navbar-categories .dropdown").hoverIntent({interval:10,sensitivity:10,timeout:200,over:function(){$(this).removeClass("drop-collapsed");$(this).addClass("open")},out:function(){$(this).removeClass("open");$(".dropdown").each(function(){$(this).addClass("drop-collapsed")})}});$("#navbar-categories a.dropdown-toggle").attr("data-toggle","")}if(is_touch){$(".carousel").swiperight(function(event){if($(event.target).parents(".thumbnail-img").length!=1&&!$(event.target).is(".thumbnail-img")){$(this).carousel("prev")}});$(".carousel").swipeleft(function(event){if($(event.target).parents(".thumbnail-img").length!=1&&!$(event.target).is(".thumbnail-img")){$(this).carousel("next")}})}$("#gallery-carousel[data-synced-with]").on("slide.bs.carousel",function(carouselObj){var thumbCnt=parseInt($(".item.active").data("slide-number"));var syncedCarousel=$(this).data("synced-with");if(carouselObj.direction=="left"){thumbCnt++}else{thumbCnt--}if($(syncedCarousel+" .thumbnail[data-slide-to="+thumbCnt+"]").is(":hidden")){if(carouselObj.direction=="left"){$(syncedCarousel).carousel("next")}else{$(syncedCarousel).carousel("prev")}}$(syncedCarousel).find(".thumbnail.active").removeClass("active");$(syncedCarousel+" .thumbnail[data-slide-to="+thumbCnt+"]").addClass("active")});$(document).on("click",".yamm .dropdown-menu",function(e){e.stopPropagation()});autoResizeElements();$(".nav-popover").each(function(){var $target_selector=$(this).attr("data-target");if($target_selector){$(this).popover({html:true,title:function(){return $(this).data("title")+'<span class="close">&times;</span>'},content:function(){return getPopoverContent($target_selector)}}).on("show.bs.popover",function(e){$(".nav-popover").not(e.target).popover("hide");$(".dropdown.open").collapse("hide");$(".navbar-collapse.in").collapse("hide")}).on("shown.bs.popover",function(e){var $popover=$(this);$(this).parent().find("div.popover .close").on("click",function(){$popover.popover("hide")})})}});$(".dropdown").on("show.bs.dropdown",function(){$(".nav-popover").popover("hide")});$(".navbar-collapse").on("show.bs.collapse",function(){$(".nav-popover").popover("hide")});initSearchSuggest();scrollToElement(".scroll-here");$("form").each(function(){var validate_case=$(this).attr("data-validate");if(validate_case!==undefined){$(this).submit(function(event){var is_valid=validateForm(validate_case);if(is_valid){}else{event.preventDefault()}})}});$(".choose-filters .panel-group .panel").on("show.bs.collapse",function(){$(this).find(".panel-heading").addClass("expanded")});$(".choose-filters .panel-group .panel").on("hide.bs.collapse",function(){$(this).find(".panel-heading").removeClass("expanded")});if(typeof executeOnDocumentReady_custom=="function"){executeOnDocumentReady_custom()}if(is_touch&&current_state!="xs"){$(".categories-container button").on("click",function(){$(".categories-container .dropdown-wrapper").removeClass("hidden")})}initPriceSlider();initProductClick();if(!is_touch&&current_state!="xs"){$('[data-toggle="magnify"]').each(function(){var $mag=$(this);$mag.magnify()})}$("#consent-modal").modal({backdrop:"static",keyboard:false})}function executeOnViewportChange(state){$("body").attr("data-grid-size",state);if(state=="xs"){$("#footer .list-group").removeClass("noborder")}else{$("#footer .list-group").addClass("noborder")}if(typeof executeOnViewportChange_custom=="function"){executeOnViewportChange_custom(state)}}function getViewportSize(){var envs=["xs","sm","md","lg"],doc=window.document,temp=doc.createElement("div");doc.body.appendChild(temp);for(var i=envs.length-1;i>=0;i--){var env=envs[i];temp.className="hidden-"+env;if(temp.offsetParent===null){doc.body.removeChild(temp);return env}}return""}